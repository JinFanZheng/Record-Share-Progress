# <center>Calico使用场景</center>  
- 公有云 
- 私有云 

## 为什么 Calico 可以使用于二层网络，？ 
1. 不会因为容器数量的变量带来ARP广播风暴， 
    - 因为Calico中容器间的相关通信在二层使用的是节点的MAC地址；  
    - 也就是说广播上的增长只是主机层上的增减，  
    - 这在数据中心是可控的  
2. 网络扰动？  
    同样的道理，使用Calico也不用担心因为容器的频繁启动停止所带来的网络扰动  
3. Calico的IP空间使用是相对自由的，这样保证足够的IP资源使用  
## Calico 注意事项？  
- Calico的IP是集群内部的，
    - 也就是说，如果需要使用容器IP和外部通信的话，需要进行相应的设置  
- 如果有对外通信需求，则需要开启nat-outgoing  
- 如果需求对内可达，(两种方案：)
    - 需要配置和维护对应的路由规则
    - 通过支持    

## Calico数据存储时，需要对每一个calico 节点node指定唯一标识， 如何实现？(两种方案) 
- 默认使用的是 hostname 
- 创建Calico节点时，需要指定--name  
    - calicoctl node run --name  

## Calico也可以使用在三层网络中？  
相比二层网络要复杂些，需要更多的net-eng介入  

## Calico的通信机制？  
Calico的通信机制完全基于三层，也带来了一些缺陷？ 
- calico目前只支持TCP、UDP、ICMP、ICMPv6协议，如果使用其他四层协议（例如NetBIOS协议），建议使用weave、原生overlay等其他overlay网络实现  
- 基于三层实现通信，在二层上没有任何加密包装，因此只能在私有的可靠网络上使用。 
- 流量隔离基于iptables实现，并且从etcd中获取需要生成的隔离规则，有一些性能上的隐患  






